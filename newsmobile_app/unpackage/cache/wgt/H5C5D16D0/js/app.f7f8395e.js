(function(){"use strict";var e={2858:function(e,t,n){e.exports=n.p+"img/李在明访华.fc794f23.png"},3231:function(e,t,n){e.exports=n.p+"img/“绝对决心行动”的执行影片.185d642d.jpg"},6356:function(e,t,n){e.exports=n.p+"img/阿凡达3.0d63dd34.jpg"},7814:function(e,t,n){e.exports=n.p+"img/沙特轰炸也门.e298e391.jpg"},7866:function(e,t,n){var i=n(6848),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],a=n(1656),s={},c=(0,a.A)(s,r,o,!1,null,null,null),l=c.exports,u=n(6178),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-container"},[t("van-nav-bar",{staticClass:"nav-header",attrs:{title:"新闻聚合"}}),t("div",{staticClass:"theme-bar"},e._l(e.themelist,function(n){return t("b",{key:n.tid,staticClass:"theme-item",class:{active:e.currentTid===n.tid},on:{click:function(t){return e.selectTheme(n.tid)}}},[e._v(e._s(n.tname))])}),0),t("div",{staticClass:"swipe-container"},[t("van-swipe",{ref:"swipeRef",staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},e._l(e.images,function(e,n){return t("van-swipe-item",{key:n},[t("img",{staticClass:"swipe-img",attrs:{src:e}})])}),1),t("div",{staticClass:"swipe-nav swipe-nav-left",on:{click:e.prevSlide}},[t("van-icon",{attrs:{name:"arrow-left"}})],1),t("div",{staticClass:"swipe-nav swipe-nav-right",on:{click:e.nextSlide}},[t("van-icon",{attrs:{name:"arrow"}})],1)],1),t("div",{staticClass:"content"},[t("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.newsList,function(n){return t("van-cell",{key:n.nid,attrs:{title:n.ntitle,label:n.createdate,"is-link":""},on:{click:function(t){return e.goToDetail(n.nid)}}})}),1),e.loading||0!==e.newsList.length?e._e():t("van-empty",{attrs:{description:"暂无新闻数据"}})],1),t("van-tabbar",{attrs:{"active-color":"#e60012",route:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[t("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[e._v("首页")]),t("van-tabbar-item",{attrs:{icon:"search",to:"/life"}},[e._v("生活")]),t("van-tabbar-item",{attrs:{icon:"friends-o",to:"/traffic"}},[e._v("交通")]),t("van-tabbar-item",{attrs:{icon:"setting-o",to:"/my"}},[e._v("我的")])],1)],1)},d=[],h=(n(4114),n(8335),n(4373)),p={name:"HomeView",data(){return{active:0,themelist:[],images:[n(3231),n(2858),n(7814),n(6356)],newsList:[],loading:!1,finished:!1,pageno:1,pagesize:10,currentTid:-1}},mounted(){this.init()},methods:{init(){h.A.get("http://localhost:6060/news/theme/get").then(e=>{let t=e.data;if("string"===typeof t)try{t=JSON.parse(t)}catch(n){console.error("Theme data parse error:",n),t=[]}this.themelist=t}).catch(e=>{console.error("Fetch themes error:",e)})},onLoad(){let e="";e=-1===this.currentTid?`http://localhost:6060/news/newsinfo/get?pageno=${this.pageno}&pagesize=${this.pagesize}`:`http://localhost:6060/news/newsinfo/getbytid?pageno=${this.pageno}&pagesize=${this.pagesize}&tid=${this.currentTid}`,h.A.get(e).then(e=>{let t=e.data;if("string"===typeof t)try{t=JSON.parse(t)}catch(n){console.error("News data parse error:",n),t={list:[],totalpage:1}}t.list&&t.list.length>0&&(this.newsList=this.newsList.concat(t.list),this.pageno++),(this.pageno>t.totalpage||!t.list||0===t.list.length)&&(this.finished=!0),this.loading=!1}).catch(e=>{console.error("Fetch news error:",e),this.loading=!1,this.finished=!0})},selectTheme(e){this.currentTid!==e&&(this.currentTid=e,this.newsList=[],this.pageno=1,this.finished=!1,this.loading=!0,this.onLoad())},goToDetail(e){this.$router.push({name:"newsDetail",params:{nid:e}})},prevSlide(){this.$refs.swipeRef.prev()},nextSlide(){this.$refs.swipeRef.next()}}},m=p,v=(0,a.A)(m,f,d,!1,null,"4d1df3b7",null),g=v.exports;i.Ay.use(u.Ay);const b=[{path:"/",name:"home",component:g},{path:"/news/:nid",name:"newsDetail",component:()=>n.e(190).then(n.bind(n,2190))},{path:"/life",name:"life",component:()=>n.e(690).then(n.bind(n,6690))},{path:"/traffic",name:"traffic",component:()=>n.e(738).then(n.bind(n,738))},{path:"/my",name:"my",component:()=>n.e(997).then(n.bind(n,5997))},{path:"/about",name:"about",component:()=>n.e(417).then(n.bind(n,1417))}],w=new u.Ay({mode:"hash",base:"",routes:b});var y=w,k=n(7517);n(2241);i.Ay.use(k.Ay),i.Ay.config.productionTip=!1,new i.Ay({router:y,render:e=>e(l)}).$mount("#app")}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,r,o){if(!i){var a=1/0;for(u=0;u<e.length;u++){i=e[u][0],r=e[u][1],o=e[u][2];for(var s=!0,c=0;c<i.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every(function(e){return n.O[e](i[c])})?i.splice(c--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce(function(t,i){return n.f[i](e,t),t},[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{190:"e50623cc",417:"ace1f1cb",690:"1216218c",738:"6c2c4f68",997:"83e22e81"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{190:"458a4466",690:"ab2e0244",738:"8f6616df",997:"fa51d058"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="newsmobile:";n.l=function(i,r,o,a){if(e[i])e[i].push(r);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var f=l[u];if(f.getAttribute("src")==i||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[r];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(e){return e(n)}),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,i,r,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc);var s=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var i=n&&n.type,s=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,a.parentNode&&a.parentNode.removeChild(a),o(c)}};return a.onerror=a.onload=s,a.href=t,i?i.parentNode.insertBefore(a,i.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=n[i],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){r=a[i],o=r.getAttribute("data-href");if(o===e||o===t)return r}},i=function(i){return new Promise(function(r,o){var a=n.miniCssF(i),s=n.p+a;if(t(a,s))return r();e(i,s,null,r,o)})},r={524:0};n.f.miniCss=function(e,t){var n={190:1,690:1,738:1,997:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=i(e).then(function(){r[e]=0},function(t){throw delete r[e],t}))}}}(),function(){var e={524:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise(function(n,i){r=e[t]=[n,i]});i.push(r[2]=o);var a=n.p+n.u(t),s=new Error,c=function(i){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,a=i[0],s=i[1],c=i[2],l=0;if(a.some(function(t){return 0!==e[t]})){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var u=c(n)}for(t&&t(i);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},i=self["webpackChunknewsmobile"]=self["webpackChunknewsmobile"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],function(){return n(7866)});i=n.O(i)})();
//# sourceMappingURL=app.f7f8395e.js.map