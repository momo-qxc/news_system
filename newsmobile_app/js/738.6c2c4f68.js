"use strict";(self["webpackChunknewsmobile"]=self["webpackChunknewsmobile"]||[]).push([[738],{738:function(t,i,e){e.r(i),e.d(i,{default:function(){return u}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"traffic-container"},[i("div",{staticClass:"header"},[i("van-nav-bar",{staticClass:"nav-header",attrs:{title:"地铁线路图"},scopedSlots:t._u([{key:"right",fn:function(){return[i("div",{staticClass:"city-selector",on:{click:function(i){t.showCityPicker=!0}}},[i("span",[t._v(t._s(t.currentCity))]),i("van-icon",{attrs:{name:"arrow-down",size:"12"}})],1)]},proxy:!0}])})],1),i("div",{staticClass:"subway-container",attrs:{id:"subway-container"}}),i("van-popup",{attrs:{position:"bottom",round:""},model:{value:t.showCityPicker,callback:function(i){t.showCityPicker=i},expression:"showCityPicker"}},[i("van-picker",{attrs:{"show-toolbar":"",title:"选择城市",columns:t.subwayCities,"value-key":"name"},on:{confirm:t.onCityConfirm,cancel:function(i){t.showCityPicker=!1}}})],1),i("van-tabbar",{attrs:{"active-color":"#e60012"},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},[i("van-tabbar-item",{attrs:{icon:"wap-home-o",to:"/"}},[t._v("首页")]),i("van-tabbar-item",{attrs:{icon:"location-o",to:"/life"}},[t._v("生活")]),i("van-tabbar-item",{attrs:{icon:"guide-o",to:"/traffic"}},[t._v("交通")]),i("van-tabbar-item",{attrs:{icon:"user-o",to:"/my"}},[t._v("我的")])],1)],1)},a=[],n=(e(8111),e(116),{name:"TrafficView",data(){return{active:2,currentCity:"厦门",currentCityCode:"",showCityPicker:!1,subway:null,subwayCities:[]}},mounted(){this.initSubwayCities(),this.$nextTick(()=>{this.initSubway()})},methods:{initSubwayCities(){if("undefined"!==typeof BMapSub&&BMapSub.SubwayCitiesList){this.subwayCities=BMapSub.SubwayCitiesList;const t=this.subwayCities.find(t=>t.name===this.currentCity);t&&(this.currentCityCode=t.citycode)}},initSubway(){if(!this.currentCityCode){const t=this.subwayCities.find(t=>t.name===this.currentCity);t?this.currentCityCode=t.citycode:this.subwayCities.length>0&&(this.currentCity=this.subwayCities[0].name,this.currentCityCode=this.subwayCities[0].citycode)}this.currentCityCode&&(this.subway=new BMapSub.Subway("subway-container",this.currentCityCode),this.subway.setZoom(.4))},onCityConfirm(t){this.currentCity=t.name,this.currentCityCode=t.citycode,this.showCityPicker=!1,this.$nextTick(()=>{this.initSubway()})}}}),r=n,o=e(1656),c=(0,o.A)(r,s,a,!1,null,"de20e082",null),u=c.exports}}]);
//# sourceMappingURL=738.6c2c4f68.js.map